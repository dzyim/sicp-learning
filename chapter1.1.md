## 1.1 The Elements of Programming

（以下部分内容可能需要修改，因为根据定义，特殊形式（special forms）不属于组合式（combinations）。）

### Key concepts:
- primitive expressions
- means of combination
- means of abstraction

### Notes 
在程序设计中，我们与两类要素打交道：数据（Data）与过程（Procedure）。  
一个表达式（Expression）其实也可以分为两种：没有括号的值（Value）、和被括号括起来的组合式（Combination）。  

### Exercises
Ex1.1  
本题需要我们对题干中的表达式进行求值。如果我们手边有Scheme解释器的话，这些表达式的求值只是小菜一碟，所以我们聊聊别的。  

我们应该注意「值」与「式」的区分。  
SICP书中把表达式分为「基本表达式」（primitive expressions）和复合表达式（compound expressions），或说「组合式」（combinations）。那么什么是「基本表达式」呢？  
很多初学者可能会在这里犯错，误解基本表达式的意思。  
我在第一次阅读第一章的时候，以为下面这种形式的表达式是基本表达式：
```
(+ 1 1)
```
而只有存在嵌套的结构，如下面这种形式的
```
(* (+ 1 1) 2)
```
才是复合表达式。  
其实这是一种常见的错误认识。  
  
「基本表达式」就是「值」。  
Scheme程序的执行是一系列求值的过程。所以一类表达式，是生来就为了求值的被放在括号中的「过程」，也就是「组合式」；而它们的最后归宿，就是不用再进一步求值的另一类表达式，称为「值」，也就是「基本表达式」。  
「值」（或说「基本表达式」）可以进一步分类：一般来说，简单数据如数字、字符等都是不用进一步求值的；已经定义的运算规则（不论是来自解释器的定义，还是用户自己的定义）也是不用进一步求值的。所以简单数据和简单运算规则都是基本表达式（primitive expression）。其实在以后我们会看到，随着抽象的增加，数值和运算规则之间的界线会愈发地模糊。  
另外，我们也需要注意，特殊形式的运算规则只是语法关键词（syntactic keyword），并不是「值」，比如「+」是值，而「DEFINE」就**不是**值。  
如果我们在Scheme解释器的交互页面分别输入「+」和「define」，会得到下面的结果：   
```scheme
1 ]=> +

;Value 2: #[arity-dispatched-procedure 2]

1 ]=> define

;Syntactic keyword may not be used as an expression: #[keyword-value-item 3]
;To continue, call RESTART with an option number:
; (RESTART 1) => Return to read-eval-print level 1.

2 error> (restart 1)

;Abort!
```

好，我们现在知道了表达式包含两种形式：本身就是值的「基本表达式」和需要进一步求值的「复合表达式」。那么，如何求值呢？  
组合式（combinations）是具有一般性的求值步骤的：  
1. 先求每一个子表达式的值；  
2. 然后把最左边的值作为运算符，把其他值作为运算对象，进行求值。  

而每种特殊形式的式子则各有其不同的求值方式。  


体会了上面的内容之后，让我们来看下面的表达式：  
```scheme
10
```  
这显然是一个不用进一步求值的「值」，故结果是10。  
```scheme
(+ 5 3 4) 
```
这是一个需要进一步求值的「式子」，结果为12。  

说到 + - * / 四则运算，有一个思考题留给大家：  

```
(+ 4 2 1)  
(+ 4 2)  
(+ 4)  
(+)  
  
(- 4 2 1)  
(- 4 2)  
(- 4)  
(-)  
  
(* 4 2 1)  
(* 4 2)  
(* 4)  
(*)  
  
(/ 4 2 1)  
(/ 4 2)  
(/ 4)  
(/)  
```
  
求上述表达式的值。先在脑中给出答案，再用Scheme解释器计算一下，思考是为什么。

下一行程序是：  
```scheme
(define a 3)
```  

提一句，大家可能在第一次接触Scheme时没有注意到的是：Scheme语言不区分大小写；所以  
```
(define A 3)
```
和
```
(DEFINE a 3)
```
等等都代表了相同的意思。  
  
(define a 3) 是一种「特殊形式（special form）」，本式会将数值3赋值给变量a。  
这里需要说明的是Lisp中括号的意义。  
在一些语言中，括号，即「( )」，的意义在于提示运算的优先级。但是在Lisp语言中，括号「( )」的意义是表示一个式子。  
也就是说，在一些其他的语言中，有时加括号与不加括号代表相同的意思；但是在Lisp中，加括号与不加括号永远代表着**不同的意义**：即不加括号的是一个值（Value），而加括号的是一个式子（Combination）。  
我们从简单的说起，比如一个数字42，当它不加括号时，才代表数值42；如果加上括号即  
```scheme
(42)
```
则代表一个需要进行运算的组合式。而由于42不是一种运算，于是组合式 (42) 的运算以报错而告终。  
大家可以自己动手，体会一下 42 与 (42) 的不同。  

同样的道理， + 和 (+) 也是不同的： + 本身是一个值（运算规则也是一种值），但 (+) 就是一个需要进行运算的式子了，其运算结果为0。  

明白了上述内容之后，我们再来看看 DEFINE 的使用中可能让初学者产生困惑的一个问题。  
```scheme
(define (square x) (* x x)) 
```
上面这个式子中，为什么 square x 会被括号括起来？  

当我们需要用一个变量代替一个复杂运算式的值时，我们应该用一个不加括号的变量名来表示之；而当我们需要用一个东西来替代一个复杂运算式子，而不是其结果时，我们也应该用一个抽象的式子来替代，所以这个抽象的表示应该是一个式子的形式，即被括号包裹起来的样子。  
下面是一个反例：  
```scheme
(define p (* x x))
```
妄想用一个值的形式来代表式子，结果只能是报错。  
而如果写成下面这样，则不会报错（注：这里是演示括号的意义，一般定义函数时要加上形式参数哦）：  
```scheme
(define (p) (* x x))
```  

